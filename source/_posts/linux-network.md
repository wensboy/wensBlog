---
title: linux网络
date: 2025-03-24 19:41:39
cover: /img/linux-network/4.png
categories: linux
tags:
    - network
    - linux
---

linux网络是linux管理的一大重要点。事实上，这里的主要核心是：网络。计算机网络教会我们各种各样的协议帮助我们构建一个计算机网络的基本概念。这里，我们主要探究如何在`linux`上配置网络，事实上，网络其实是一个很有趣的东西。

{% colorquote info %}
os: --(pop_os!)
env: --(terminal)
tips: 
1) 工具指令不会，`man`一下，`man`知道十万个为什么
2) 搜索引擎为什么不会主动告诉你问题怎么解决？因为它也懒!
3) 好文章不如烂实践
4) 试不过扇
{% endcolorquote %}

先思考一个问题：假设你获得了一个新电脑，这个电脑有点古怪，它无法连网，准确来说是没有已经实现的高级工具可以一键连接无线网络。这个时候你思考了一会，想到了解决方案，于是......

没有网络连接工具，安装一个就行。新的问题来了，你得到了一个疑问：

?连接网络-->安装网络工具-->连接网络?

这下问题闭环了，得不到解决。但是聪明的你很快想出了另一种解决方法，于是......

事实上，解决连网问题很简单，方法也有很多。我们能够快速想到的就是连接有线网络--以太网。事实上，这其实是一个局域内网。我们都知道：上网说白了就是数据包能够收发。机器能够找到能够进出数据的地方，那么就能够上网。

这个进出入口其实就是ip，这个时候又出问题了：ip也分公网ip和私网ip，机器连接网络时，使用的是私网ip，数据貌似只能够在局域内网里跑来跑去。好在你提前买了个路由器，这个小东西将你的数据包加工，从而使得你的数据能够跑出你所在的内网了。这个时候，由于机器无法主动做到这一点，于是......

学过一点linux的你开始了`show time`:

1) 检查网卡，确保网络硬件可以使用：

```shell
ip link show
# 如果有线网卡处于DOWN状态
ip link set <enp...> up
```

2) 手动分配静态ip

```shell
ip addr add <static-ip> dev <enp...>
```

3) 配置网关

```shell
# 获取gateway-ip
sudo dhclient -v <network-card-name>
ip route add default via <gateway-ip>
```

4) 配置DNS解析

```shell
echo 'nameserver 8.8.8.8' >> /etc/resolv.conf
echo 'nameserver 8.8.4.4' >> /etc/resolv.conf
```

至此，你的设备连接上了网络，并且能够正常安装软件和访问所有网络服务。所有的这一切其实就是：

私网ip<-->路由器<--(NAT)-->公网ip<-->互联网

至于任何无线的网络，那么就是直接使用上层工具可以快速配置连接的事了，已经连接上网络的你也就不需要再去捣鼓无线网络连接了。

#### 后话

真正的网络远不止这些，但是这些却是构成上层复杂网络的核心逻辑。事实上，网络可探究的点很多，在这里主要探讨的是linux上的简单的网络管理操作。如果你的好奇心足够强，深入学习网络，能够收获更多。
